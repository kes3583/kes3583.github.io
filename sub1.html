<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>loading and landpage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        document.documentElement.className = 'js';
    </script>



</head>

<body class="loading">
    <!-- <div class="hamburger hamburger--emphatic">
        <div class="hamburger-box">
            <div class="hamburger-inner"></div>
        </div>
    </div> -->
    <!-- <header>
        <nav class="menu">
            <a class="menu__item" href="#">
                <span class="menu__item-name">Study With Us</span>
                <span class="menu__item-label">Information on Courses</span>
            </a>
            <a class="menu__item" href="#">
                <span class="menu__item-name">Research</span>
                <span class="menu__item-label">Centers &amp; Groups</span>
            </a>
            <a class="menu__item" href="#">
                <span class="menu__item-name">Alumni</span>
                <span class="menu__item-label">Global Networks</span>
            </a>
            <a class="menu__item" href="#">
                <span class="menu__item-name">International</span>
                <span class="menu__item-label">Partnerships</span>
            </a>
            <a class="menu__item" href="#">
                <span class="menu__item-name">Calendar</span>
                <span class="menu__item-label">Important Dates</span>
            </a>
        </nav>

    </header> -->
    <div id="barba-wrapper">
        <div class="barba-container">
            <div class="morph-wrap">
                <svg class="morph" width="1400" height="700" viewBox="0 0 1400 700">
					<path d="M1098,96c-80,71-211,78-336,59C665.74,140.37,612,60,473,40,275.36,19.72,92.13,41.32,101,317c3.43,106.69,23.4,170.46,137,252,163,117,461.54,135.65,633,48,268-137,445-153,449-323C1324.59,99,1254,2,1098,96Z"/>
				</svg>
            </div>


            <div class="content-wrap">
                <div class="content content--layout content--layout-1">
                    <img class="content__img" src='https://images.unsplash.com/photo-1518931479438-62470470be9a?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=83eb13949913eac8c8debbbde459ca23' alt='rose'>
                    <h3 class="content__title">aBout</h3>
                    <!--   <p class="content__author">Gregory Mourisha</p> -->
                    <p class="content__desc">I have had a kind of “love and hate” relationship with my work But nevertheless My work is always intriguing to me. </p>
                    <!--   <a href="#" class="content__link">Discover</a> -->
                </div>
            </div>

            <div class="content-wrap">
                <div class="content content--layout content--layout-2">
                    <img class="content__img" src='https://images.unsplash.com/photo-1518931479438-62470470be9a?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=83eb13949913eac8c8debbbde459ca23' alt='rose'>
                    <h3 class="content__title">aBout</h3>
                    <!--   <p class="content__author">Gregory Mourisha</p> -->
                    <p class="content__desc">I have had a kind of “love and hate” relationship with my work But nevertheless My work is always intriguing to me. </p>
                    <!--   <a href="#" class="content__link">Discover</a> -->
                </div>
            </div>

            <div class="content-wrap">
                <div class="content content--layout content--layout-3">
                    <img class="content__img" src='https://images.unsplash.com/photo-1518931479438-62470470be9a?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=83eb13949913eac8c8debbbde459ca23' alt='rose'>
                    <h3 class="content__title">aBout</h3>
                    <!--   <p class="content__author">Gregory Mourisha</p> -->
                    <p class="content__desc">I have had a kind of “love and hate” relationship with my work But nevertheless My work is always intriguing to me. </p>
                    <!--   <a href="#" class="content__link">Discover</a> -->
                </div>
            </div>

            <!-- Related demos -->
			<section class="content content--related">
				<p class="content__info">If you enjoyed this demo you might also like:</p>
				<a class="content__related-item" href="https://tympanus.net/Development/ElasticSVGElements/">
					<img class="content__related-img" src="img/related/ItemRevealer.jpg">
					<h3 class="content__related-title">Elastic SVG Elements</h3>
				</a>
				<a class="content__related-item" href="https://tympanus.net/Development/ItemRevealer/">
					<img class="content__related-img" src="img/related/ElasticSVGElements.jpg">
					<h3 class="content__related-title">Item Revealer</h3>
				</a>
			</section>



        </div>
    </div>

    <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js" type="text/javascript"></script> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/animejs/2.2.0/anime.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollmonitor/1.2.0/scrollMonitor.js"></script>
    <!-- <script  src="js/index.js"></script> -->
    <script type="text/javascript">
        //private
        // hamburger.addEventListener("click", function() {
        //   this.classList.toggle("is-active");
        // }, false);

        // var hamburger = document.querySelector(".hamburger");
        // var header = document.querySelector("header");
        // var isActive = false;

        // hamburger.onclick = function() {
        //     //$('.hamburger-menu').toggleClass('animate');
        //     if (isActive) {
        //         this.classList.remove('is-active');
        //         header.classList.remove('active');
        //         //document.getElementById("navbar").style.top = "-90px";
        //     } else {
        //         this.classList.add('is-active');
        //         header.classList.add('active');
        //         //document.getElementById("navbar").style.top = "0px";
        //     }
        //
        //     isActive = !isActive;
        // }
        (function() {

            const DOM = {};
            DOM.svg = document.querySelector('.morph');
            DOM.shapeEl = DOM.svg.querySelector('path');
            DOM.contentElems = Array.from(document.querySelectorAll('.content-wrap'));
            DOM.footer = document.querySelector('.content--related');
            const contentElemsTotal = DOM.contentElems.length;

            const shapes = [
                {
        			path: 'M1098,96c-80,71-211,78-336,59C665.74,140.37,612,60,473,40,275.36,19.72,92.13,41.32,101,317c3.43,106.69,23.4,170.46,137,252,163,117,461.54,135.65,633,48,268-137,445-153,449-323C1324.59,99,1254,2,1098,96Z',
        			pathAlt: 'M1098,96c-80,71-211,78-336,59C665.74,140.37,612,60,473,40,275.36,19.72,92.13,41.32,101,317c3.43,106.69,43.4,163.46,157,245,163,117,428.54,104.65,600,17,268-137,412-73,462-285C1364.77,104.19,1254,2,1098,96Z',
        			scaleX: 1.3,
        			scaleY: 1.2,
        			rotate: 70,
        			tx: 0,
        			ty: -50,
        			fill: {
        				color: '#6c06f7',
        				duration: 500,
        				easing: 'linear'
        			},
        			animation: {
        				path: {
        					duration: 1000,
        					easing: 'easeInOutQuad'
        				},
        				svg: {
        					duration: 1000,
        					easing: 'easeInOutQuad'
        				}
        			}
        		},
        		{
                    path: 'M904,158c-80,71-94,182-219,163-96.26-14.63-96-213-235-233C252.36,67.72,130,68,65,303,36.54,405.88,103.22,557.5,264,555c193-3,226.54-9.35,398-97,268-137,465,150,589-23C1364.61,276.49,1060,64,904,158Z',
        			pathAlt: 'M904,158c-80,71-93,176-218,157-96.26-14.63-124-180-266-189-214-4-264,48-319,176-42.14,98.07,2.22,274.5,163,272,193-3,234.54-4.35,406-92,268-137,435,126,559-47C1342.61,276.49,1060,64,904,158Z',
        			scaleX: 1.9,
        			scaleY: 1,
        			rotate: 0,
        			tx: 0,
        			ty: 100,
        			fill: {
        				color: '#d65640',
        				duration: 500,
        				easing: 'linear'
        			},
        			animation: {
        				path: {
        					duration: 1000,
        					easing: 'easeInOutQuad'
        				},
        				svg: {
        					duration: 1000,
        					easing: 'easeInOutQuad'
        				}
        			}
        		},

        		{
                    path: 'M1155.45,5c-95-.67-193.7,44.71-323.93,61.87C735,79.6,621.15,76.82,478.64,28.28,282.32-32,3.34,64.28,12.21,340,15.64,446.65,105.87,541,229.82,605.74c196.32,102.53,477.23,130.71,631.75,15.78C1113.63,434,1358.33,509.86,1374.69,289.45S1320.89,6.18,1155.45,5Z',
        			pathAlt: 'M1139,26c-95-.67-177.25,23.72-307.48,40.88C735,79.6,620,73,481,53,283.36,32.72,29.13,61.32,38,337c3.43,106.69,94.4,163.46,208,245,163,117,460.48,121.92,615,7,252.07-187.48,491-179,495-349C1360.59,45,1304.43,27.17,1139,26Z',
        			scaleX: 1.5,
        			scaleY: 2,
        			rotate: -20,
        			tx: 0,
        			ty: -50,
        			fill: {
        				color: '#1e71bf',
        				duration: 500,
        				easing: 'linear'
        			},
        			animation: {
        				path: {
        					duration: 1000,
        					easing: 'easeInOutQuad'
        				},
        				svg: {
        					duration: 1000,
        					easing: 'easeInOutQuad'
        				}
        			}
        		}

            ];
            let step;


            const initShapeLoop = function(pos) {
        		pos = pos || 0;
        		anime.remove(DOM.shapeEl);
        		anime({
        			targets: DOM.shapeEl,
        			easing: 'linear',
        			d: [{value: shapes[pos].pathAlt, duration:1500}, {value: shapes[pos].path, duration:1500}],
        			loop: true,
        			fill: {
        				value: shapes[pos].fill.color,
        				duration: shapes[pos].fill.duration,
        				easing: shapes[pos].fill.easing
        			},
        			direction: 'alternate'
        		});
        	};

        	const initShapeEl = function() {
        		anime.remove(DOM.svg);
        		anime({
        			targets: DOM.svg,
        			duration: 1,
        			easing: 'linear',
        			scaleX: shapes[0].scaleX,
        			scaleY: shapes[0].scaleY,
        			translateX: shapes[0].tx+'px',
        			translateY: shapes[0].ty+'px',
        			rotate: shapes[0].rotate+'deg'
        		});

        		initShapeLoop();
        	};

        	const createScrollWatchers = function() {
        		DOM.contentElems.forEach((el,pos) => {
                    const scrollElemToWatch = pos ? DOM.contentElems[pos] : DOM.footer;
        			//const scrollElemToWatch =  DOM.contentElems[pos];
        			//console.log(pos)
        			//console.log('DOM.contentElems[pos]',DOM.contentElems[pos])
        			//console.log('scrollElemToWatch', scrollElemToWatch)

        			pos = pos ? pos : contentElemsTotal;
        			const watcher = scrollMonitor.create(scrollElemToWatch, -350);

        			watcher.enterViewport(function() {
        				console.log('enter', pos)
        				step = pos;
        				anime.remove(DOM.shapeEl);
        				anime({
        					targets: DOM.shapeEl,
        					duration: shapes[pos].animation.path.duration,
        					easing: shapes[pos].animation.path.easing,
        					elasticity: shapes[pos].animation.path.elasticity || 0,
        					d: shapes[pos].path,
        					fill: {
        						value: shapes[pos].fill.color,
        						duration: shapes[pos].fill.duration,
        						easing: shapes[pos].fill.easing
        					},
        					complete: function() {
        						initShapeLoop(pos);
        					}
        				});

        				anime.remove(DOM.svg);
        				anime({
        					targets: DOM.svg,
        					duration: shapes[pos].animation.svg.duration,
        					easing: shapes[pos].animation.svg.easing,
        					elasticity: shapes[pos].animation.svg.elasticity || 0,
        					scaleX: shapes[pos].scaleX,
        					scaleY: shapes[pos].scaleY,
        					translateX: shapes[pos].tx+'px',
        					translateY: shapes[pos].ty+'px',
        					rotate: shapes[pos].rotate+'deg'
        				});
        			});

        			// watcher.exitViewport(function() {
        			// 	console.log('leave', pos)
        			// 	const idx = !watcher.isAboveViewport ? pos-1 : pos+1;
        			//
        			// 	if( idx <= contentElemsTotal && step !== idx ) {
        			// 		step = idx;
        			// 		anime.remove(DOM.shapeEl);
        			// 		anime({
        			// 			targets: DOM.shapeEl,
        			// 			duration: shapes[idx].animation.path.duration,
        			// 			easing: shapes[idx].animation.path.easing,
        			// 			elasticity: shapes[idx].animation.path.elasticity || 0,
        			// 			d: shapes[idx].path,
        			// 			fill: {
        			// 				value: shapes[idx].fill.color,
        			// 				duration: shapes[idx].fill.duration,
        			// 				easing: shapes[idx].fill.easing
        			// 			},
        			// 			complete: function() {
        			// 				initShapeLoop(idx);
        			// 			}
        			// 		});
        			//
        			// 		anime.remove(DOM.svg);
        			// 		anime({
        			// 			targets: DOM.svg,
        			// 			duration: shapes[idx].animation.svg.duration,
        			// 			easing: shapes[idx].animation.svg.easing,
        			// 			elasticity: shapes[idx].animation.svg.elasticity || 0,
        			// 			scaleX: shapes[idx].scaleX,
        			// 			scaleY: shapes[idx].scaleY,
        			// 			translateX: shapes[idx].tx+'px',
        			// 			translateY: shapes[idx].ty+'px',
        			// 			rotate: shapes[idx].rotate+'deg'
        			// 		});
        			// 	}
        			// });
        		});
        	};

            const _init = function() {

                imagesLoaded(document.body, () => {
        			//initShapeEl();
        			//createScrollWatchers();
        			//Array.from(document.querySelectorAll('.content--layout')).forEach(el => new TiltObj(el));
        			// Remove loading class from body
        			//document.body.classList.remove('loading');
        		});

            }
            _init();

        })();
    </script>
</body>

</html>
